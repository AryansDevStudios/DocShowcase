{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/firebase.ts"],"sourcesContent":["// This file is a placeholder for Firebase configuration.\n// Since Firebase has been delinked, this file is mostly empty.\n// You can re-enable Firebase by asking the assistant to \"create a firebase project\".\n\n// Mock database for local development without Firebase\nconst inMemoryStore: { [key: string]: any } = {};\n\nexport const db = {\n  // A mock representation of the Firestore db object.\n  collection: (name: string) => ({\n    doc: (id?: string) => ({\n      get: async () => {\n        const docId = id || Object.keys(inMemoryStore).find(key => inMemoryStore[key].collection === name);\n        const data = docId ? inMemoryStore[docId] : null;\n        return {\n          exists: () => !!data,\n          data: () => data?.document,\n        };\n      },\n      set: async (data: any, options: any) => {\n        if(id) {\n            inMemoryStore[id] = {\n                ...inMemoryStore[id],\n                document: { ...inMemoryStore[id]?.document, ...data },\n            };\n        }\n      },\n    }),\n    add: async (data: any) => {\n      const id = Date.now().toString();\n      inMemoryStore[id] = { collection: name, document: data };\n      return { id };\n    }\n  }),\n};\n\nexport function doc(db: any, collection: string, id: string) {\n    return db.collection(collection).doc(id);\n}\n\nexport function getDoc(docRef: any) {\n    return docRef.get();\n}\n\nexport function collection(db: any, name: string) {\n    return db.collection(name);\n}\n\nexport function addDoc(collectionRef: any, data: any) {\n    return collectionRef.add(data);\n}\n\nexport function setDoc(docRef: any, data: any, options: any) {\n    return docRef.set(data, options);\n}\n\nexport function serverTimestamp() {\n    return new Date();\n}\n\nexport function Timestamp(seconds: number, nanoseconds: number) {\n    const d = new Date(0);\n    d.setUTCSeconds(seconds);\n    d.setUTCMilliseconds(nanoseconds / 1_000_000);\n    return d;\n}\n"],"names":[],"mappings":"AAAA,yDAAyD;AACzD,+DAA+D;AAC/D,qFAAqF;AAErF,uDAAuD;;;;;;;;;;;AACvD,MAAM,gBAAwC,CAAC;AAExC,MAAM,KAAK;IAChB,oDAAoD;IACpD,YAAY,CAAC,OAAiB,CAAC;YAC7B,KAAK,CAAC,KAAgB,CAAC;oBACrB,KAAK;wBACH,MAAM,QAAQ,MAAM,OAAO,IAAI,CAAC,eAAe,IAAI,CAAC,CAAA,MAAO,aAAa,CAAC,IAAI,CAAC,UAAU,KAAK;wBAC7F,MAAM,OAAO,QAAQ,aAAa,CAAC,MAAM,GAAG;wBAC5C,OAAO;4BACL,QAAQ,IAAM,CAAC,CAAC;4BAChB,MAAM,IAAM,MAAM;wBACpB;oBACF;oBACA,KAAK,OAAO,MAAW;wBACrB,IAAG,IAAI;4BACH,aAAa,CAAC,GAAG,GAAG;gCAChB,GAAG,aAAa,CAAC,GAAG;gCACpB,UAAU;oCAAE,GAAG,aAAa,CAAC,GAAG,EAAE,QAAQ;oCAAE,GAAG,IAAI;gCAAC;4BACxD;wBACJ;oBACF;gBACF,CAAC;YACD,KAAK,OAAO;gBACV,MAAM,KAAK,KAAK,GAAG,GAAG,QAAQ;gBAC9B,aAAa,CAAC,GAAG,GAAG;oBAAE,YAAY;oBAAM,UAAU;gBAAK;gBACvD,OAAO;oBAAE;gBAAG;YACd;QACF,CAAC;AACH;AAEO,SAAS,IAAI,EAAO,EAAE,UAAkB,EAAE,EAAU;IACvD,OAAO,GAAG,UAAU,CAAC,YAAY,GAAG,CAAC;AACzC;AAEO,SAAS,OAAO,MAAW;IAC9B,OAAO,OAAO,GAAG;AACrB;AAEO,SAAS,WAAW,EAAO,EAAE,IAAY;IAC5C,OAAO,GAAG,UAAU,CAAC;AACzB;AAEO,SAAS,OAAO,aAAkB,EAAE,IAAS;IAChD,OAAO,cAAc,GAAG,CAAC;AAC7B;AAEO,SAAS,OAAO,MAAW,EAAE,IAAS,EAAE,OAAY;IACvD,OAAO,OAAO,GAAG,CAAC,MAAM;AAC5B;AAEO,SAAS;IACZ,OAAO,IAAI;AACf;AAEO,SAAS,UAAU,OAAe,EAAE,WAAmB;IAC1D,MAAM,IAAI,IAAI,KAAK;IACnB,EAAE,aAAa,CAAC;IAChB,EAAE,kBAAkB,CAAC,cAAc;IACnC,OAAO;AACX","debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { db, addDoc, collection, doc, setDoc, serverTimestamp } from '@/lib/firebase';\nimport { revalidatePath } from 'next/cache';\n\nexport type DocType = 'markdown' | 'html' | 'latex';\n\n// We are defining Timestamp here as a simple Date since we're not using Firestore anymore.\nexport type Timestamp = Date;\n\nexport interface DocumentData {\n  content: string;\n  type: DocType;\n  createdAt?: Timestamp;\n  updatedAt?: Timestamp;\n}\n\nexport async function saveDocument(id: string | null, content: string, type: DocType) {\n  try {\n    if (id) {\n      const docRef = doc(db as any, 'documents', id);\n      await setDoc(docRef, { content, type, updatedAt: serverTimestamp() }, { merge: true });\n      revalidatePath(`/${id}`);\n      revalidatePath(`/view/${id}`);\n      return { id };\n    } else {\n      const docRef = await addDoc(collection(db as any, 'documents'), {\n        content,\n        type,\n        createdAt: serverTimestamp(),\n        updatedAt: serverTimestamp(),\n      });\n      return { id: docRef.id };\n    }\n  } catch (error) {\n    console.error(\"Error saving document: \", error);\n    let message = 'Unknown Error';\n    if (error instanceof Error) message = error.message;\n    return { error: `Failed to save document: ${message}` };\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;;AAcO,eAAe,aAAa,EAAiB,EAAE,OAAe,EAAE,IAAa;IAClF,IAAI;QACF,IAAI,IAAI;YACN,MAAM,SAAS,CAAA,GAAA,sHAAA,CAAA,MAAG,AAAD,EAAE,sHAAA,CAAA,KAAE,EAAS,aAAa;YAC3C,MAAM,CAAA,GAAA,sHAAA,CAAA,SAAM,AAAD,EAAE,QAAQ;gBAAE;gBAAS;gBAAM,WAAW,CAAA,GAAA,sHAAA,CAAA,kBAAe,AAAD;YAAI,GAAG;gBAAE,OAAO;YAAK;YACpF,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE,CAAC,CAAC,EAAE,IAAI;YACvB,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE,CAAC,MAAM,EAAE,IAAI;YAC5B,OAAO;gBAAE;YAAG;QACd,OAAO;YACL,MAAM,SAAS,MAAM,CAAA,GAAA,sHAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,sHAAA,CAAA,aAAU,AAAD,EAAE,sHAAA,CAAA,KAAE,EAAS,cAAc;gBAC9D;gBACA;gBACA,WAAW,CAAA,GAAA,sHAAA,CAAA,kBAAe,AAAD;gBACzB,WAAW,CAAA,GAAA,sHAAA,CAAA,kBAAe,AAAD;YAC3B;YACA,OAAO;gBAAE,IAAI,OAAO,EAAE;YAAC;QACzB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,IAAI,UAAU;QACd,IAAI,iBAAiB,OAAO,UAAU,MAAM,OAAO;QACnD,OAAO;YAAE,OAAO,CAAC,yBAAyB,EAAE,SAAS;QAAC;IACxD;AACF;;;IAvBsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {saveDocument as '704eb6af9cd32784c37d679969af27c9aa2490d40a'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/editor-view.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/editor-view.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/editor-view.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkS,GAC/T,gEACA","debugId":null}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/editor-view.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/editor-view.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/editor-view.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8Q,GAC3S,4CACA","debugId":null}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx"],"sourcesContent":["import EditorView from '@/components/editor-view';\n\nexport default function NewDocumentPage() {\n  return <EditorView />;\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACtB,qBAAO,8OAAC,oIAAA,CAAA,UAAU;;;;;AACpB","debugId":null}}]
}